@charset "UTF-8";
@namespace xml "http://www.w3.org/XML/1998/namespace";
@namespace oxy url('http://www.oxygenxml.com/extensions/author');

oxy|doctype {
    display:block !important;
    color:blue !important;
    background-color:transparent !important;
}

body { font-family: "Libertinus Serif"; font-size: large; line-height: 1.1; text-align: justify;}

hi[rendition~="#rend_italic"] {font-style: italic;}
hi[rendition~="#rend_bold"] {font-weight: bold;}
hi[rendition~="#rend_underline"] {text-decoration: underline;}
hi[rendition~="#rend_subscript"] {vertical-align: sub;}
hi[rendition~="#rend_superscript"] {vertical-align: super; font-size: .7em;}
/*hi[rendition~="#rend_smallcaps"] {font-variant: small-caps;}*/

/*[xml|lang="ru"] [rend~="smallcaps"] {font-family: "Libertinus Sans"; font-size: 90%; letter-spacing: 3px}*/
[xml|lang="ru"] [rend~="#rend_doublequotes"]::before {content: "„"}
[xml|lang="ru"] [rend~="#rend_doublequotes"]::after {content: "“"}
[rend~="hide"] {text-decoration: line-through}

example:lang(os) > quote > q::before {content: "„";}
example:lang(os) > quote > q::after {content: "“";}

q::before {content: "‘";}
q::after {content: "’";}

teiHeader {display: none}

entry {display: block}
entry[n]:before {content: attr(n); vertical-align: super; font-size: .7em;}
entry ~ entry {margin-top: 10px}

lang {font-style: normal}
/*[xml|lang="os"] lang[xml|lang="ru"]:empty {content: "ос."}
[xml|lang="os"] lang[xml|lang="en"]:empty {content: "Ossetic"}
[xml|lang="os-x-iron"] lang[xml|lang="ru"]:empty {content: "и."}
[xml|lang="os-x-iron"] lang[xml|lang="en"]:empty {content: "Iron Ossetic"}
[xml|lang="os-x-digor"] lang[xml|lang="ru"]:empty {content: "д."}
[xml|lang="os-x-digor"] lang[xml|lang="en"]:empty {content: "Digor Ossetic"}
[xml|lang="os-x-south"] lang[xml|lang="ru"]:empty {content: "ю."}
[xml|lang="os-x-south"] lang[xml|lang="en"]:empty {content: "South Ossetic"}


[xml|lang="ru"] lang[xml|lang="ru"]:empty {content: "рус."}
[xml|lang="ru"] lang[xml|lang="en"]:empty {content: "Russian"}*/

mentioned > lang {font-weight: bold}
etym > lang {font-weight: bold}
usg + form::before {content: " "}
form + usg::before {content: " "}
usg + tr::before {content: " "}

form {display: inline}
/*orth {font-style: italic}*/
form[xml|lang="os-x-iron"] + form[xml|lang="os-x-digor"]::before {content: "\00a0|\00a0";}
form[xml|lang="os-x-iron"] + form[xml|lang="os-x-digor"][subtype="parens"]::before {content: " | (";}
form[xml|lang="os-x-iron"] + form[xml|lang="os-x-digor"][subtype="parens"]::after {content: ")";}
w[xml|lang="os-x-iron"] + w[xml|lang="os-x-digor"]::before {content: " | "; font-style: normal;}
m[xml|lang="os-x-iron"] + m[xml|lang="os-x-digor"]::before {content: " | "; font-style: normal;}
c[xml|lang="os-x-iron"] + c[xml|lang="os-x-digor"]::before {content: " | "; font-style: normal;}
entry > form orth {font-weight: bold}
orth + form[type="variant"]::before {content: ", "}
orth + form[type="synonym"]::before {content: ", "}
orth + form[type = "variant"][subtype="parens"]::before {content: " ("}
orth + form[type = "variant"][subtype="parens"]::after {content: ")"}
/*orth + form[type="variant"][rendition~="#rend_parens"]::before {content: " ("}
orth + form[type="variant"][rendition~="#rend_parens"]::after {content: ")"}*/
orth + form[type="participle"]::before {content: " : "}
form[type="variant"] + form[type="participle"]::before {content: "\00a0:\00a0"} 
form > form + form[type="variant"]::before {content: ", "}

form > lang + orth::before {content: " ";}

re > form orth {font-style: italic}

sense {display: inline}
sense[n]:before {content: " " attr(n) ". "}
entry > sense + sense:before, re > sense + sense:before {content: "; "}
entry > sense + sense[n]:before, re > sense + sense[n]:before {content: "; " attr(n) ". "}
entry > form + sense:before, re > form + sense:before {content: " "}
/*entry > sense:last-of-type::after {content: ". "}*/
usg + sense:before {content: " "}
note + sense:before {content: " "}
/*re::after {content: ". "}*/
re + sense:before {content: " "}

/*sense > re:before {content: "; "}
sense > re:first-child:before {content: ""}
sense > re:first-of-type:before {content: ""}*/
sense > re + re:before {content: "; "}
sense > sense + re:before {content: "; "}
sense > tr + re:before {content: "; "}
entry > note + re:before {content: "; "} 


def {display: inline}

note {display: inline; font-size: 100%}

tr {display: inline;}
/*tr + def::before {content: "; "}*/

tr > q {margin-bottom: 0; margin-left: 0; margin-right: 0;}
/*tr > q::before {content: "‘";}*/
/*tr > q::after {content: "ʼ";}*/
quote + tr::before {content: " "}
example > tr:lang(ru) + tr:lang(en)::before {content: " "}

/*q + note[type="comment"]::before {content: " ";}*/

tr:lang(en) + tr:lang(en)::before {content: ", "}
tr:lang(ru) + tr:lang(ru)::before {content: ", "}
tr > q + q::before {content: ", "}

exampleGrp {display: inline;}
exampleGrp::before {content: ". — ";}
re > exampleGrp::before {content: ": ";}
exampleGrp[n]::before {content: ". — " attr(n) ". ";}
example {display: inline;}
example + example::before {content: "; "}
/*example:last-of-type::after {content: "."}*/

exampleGrp + re::before {content: ". — ";}

/*bibl[corresp]::before {content: attr(corresp);}*/
example > bibl::before{content: " (";}
example > bibl:last-of-type::after{content: ")";}
example > bibl + bibl::before{content: "; ";}

/*bibl > biblScope::before{content: " ";}*/

/*example > note::before{content: " (";}
example > note::after{content: ")";}*/

ref[target][type='xr']:empty::after {  content:attr(target); 
                            font-style: italic; 
                            background-color: grey;
                            -oxy-link:oxy_replace(attr(target),'#entry_','abaev_') '.xml'}
ref[target][type='bibl']:empty::after {  content:attr(target); 
                            font-style: italic; 
                            background-color: grey;}
ref[target][type='xr']:not(empty)::after { content: '⮳';
                                -oxy-link:oxy_replace(attr(target),'#entry_','abaev_') '.xml'}
entry > ref + ref::before {content: ", ";}
entry > ref[target]:empty:last-child::after {content: attr(target) ".";}
entry > ref[target]:last-child::after {content: ".";}

entry > :not(etym):last-child::after {content: ".";}

example > quote {display: inline; font-style: italic;}
example > quote > note {font-style: normal;}
example:lang(ru) > quote {font-style: inherit;}
usg + quote::before {content: " ";}

/*etym {display: block; margin-top: 1ex}*/
etym::before {content: ".\A\00a0\00a0\00a0\00a0~ "; white-space: pre;}

w {font-style: italic;}
c {font-style: italic;}
m {font-style: italic;}
phr {font-style: italic;}
s {font-style: italic;}
/*mentioned > lang::after {content: " ";}*/
/*mentioned > note + w, mentioned > note + c, mentioned > note + m::after {content: " ";}*/
/*mentioned > w + w::before {content: ", ";}
mentioned > w + gloss::before {content: " ";}*/

/*gloss::before {-oxy-prepend-content: "‘";}
gloss::after {-oxy-prepend-content: "ʼ";}*/
/*w + gloss::before {-oxy-prepend-content: " ";}
m + gloss::before {-oxy-prepend-content: " ";}
c + gloss::before {-oxy-prepend-content: " ";}*/

p {display: block}

table {display: inline-table}

lb::before {content: "\A\00a0\00a0\00a0\00a0";
            white-space: pre;}
/*pb is for background compatibility only -- should be replaced with lb*/
pb::before {content: "\A\00a0\00a0\00a0\00a0";
            white-space: pre;}

form[type~="rec"]::before {content:"*"}
w[type~="rec"]::before {content:"*"}
m[type~="rec"]::before {content:"*"}
c[type~="rec"]::before {content:"*"}
phr[type~="rec"]::before {content:"*"}

entry > sense + re::before{content: "; "}
entry > re + re::before {content: "; "}
entry > re:has(exampleGrp) + re::before {content: ". — "}
re > re + re::before {content: ", ";}
entry > form + re > form::before {content: ": "}
entry > usg + re::before {content: " "}

note[type="footnote"] {vertical-align: sub; font-size: small}

oRef {font-style: italic;}
tr oRef {letter-spacing: 3px}
/*example:lang(ru) quote {letter-spacing: 3px}*/
example > quote oRef {font-style: italic; font-weight:bold; letter-spacing: normal}
re > form oRef {font-style: italic; font-weight:bold; letter-spacing: normal}
etym oRef {font-style: italic; letter-spacing: normal}
entry > note oRef {font-style: italic; letter-spacing: normal}
re > note oRef {font-style: italic; letter-spacing: normal}
/*quote:lang(ru) oRef {font-style: normal; letter-spacing: 3px}*/
entry oRef:empty {content: oxy_xpath("ancestor::entry/form[1]/orth[1]/text()")}
entry re oRef:empty {content: oxy_xpath("ancestor::re/form[1]/orth[1]/text()")}

author {letter-spacing: 3px;}

foreign {font-style: italic;}